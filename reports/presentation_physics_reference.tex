\documentclass[12pt,a4paper]{article}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{lmodern}
\usepackage{amsmath,amsfonts,amssymb}
\usepackage{booktabs}
\usepackage{longtable}
\usepackage{array}
\usepackage{geometry}
\usepackage{xcolor}

\geometry{margin=1in}

\title{\textbf{PINN Physics Layer Reference}}
\author{Correct Equations for Presentation}
\date{}

\begin{document}

\maketitle

\section*{Physics Laws \& Equations Used in PINN Physics Layer}

\subsection*{1. Rotational Dynamics (Euler's Equations)}

\begin{longtable}{|p{0.25\textwidth}|p{0.45\textwidth}|p{0.2\textwidth}|}
\hline
\textbf{Equation} & \textbf{Implementation} & \textbf{Notes} \\
\hline
\textbf{Roll Angular Acceleration} &
$\dot{p} = \frac{J_{yy} - J_{zz}}{J_{xx}} \cdot q \cdot r + \frac{\tau_x}{J_{xx}}$ &
Cross-coupling, NO damping \\
\hline
\textbf{Pitch Angular Acceleration} &
$\dot{q} = \frac{J_{zz} - J_{xx}}{J_{yy}} \cdot p \cdot r + \frac{\tau_y}{J_{yy}}$ &
Cross-coupling, NO damping \\
\hline
\textbf{Yaw Angular Acceleration} &
$\dot{r} = \frac{J_{xx} - J_{yy}}{J_{zz}} \cdot p \cdot q + \frac{\tau_z}{J_{zz}}$ &
Cross-coupling, NO damping \\
\hline
\end{longtable}

\textbf{Key Feature:} Real Euler equations with NO artificial damping terms. Pure physics-based rotational dynamics.

\subsection*{2. Euler Kinematics (Attitude Rate Equations)}

\begin{longtable}{|p{0.25\textwidth}|p{0.45\textwidth}|p{0.2\textwidth}|}
\hline
\textbf{Equation} & \textbf{Implementation} & \textbf{Notes} \\
\hline
\textbf{Roll Rate} &
$\dot{\phi} = p + \sin(\phi)\tan(\theta) \cdot q + \cos(\phi)\tan(\theta) \cdot r$ &
Nonlinear coupling \\
\hline
\textbf{Pitch Rate} &
$\dot{\theta} = \cos(\phi) \cdot q - \sin(\phi) \cdot r$ &
Nonlinear coupling \\
\hline
\textbf{Yaw Rate} &
$\dot{\psi} = \frac{\sin(\phi) \cdot q + \cos(\phi) \cdot r}{\cos(\theta)}$ &
Singularity at $\theta = \pm 90°$ \\
\hline
\end{longtable}

\subsection*{3. Translational Dynamics (Vertical Motion)}

\begin{longtable}{|p{0.25\textwidth}|p{0.45\textwidth}|p{0.2\textwidth}|}
\hline
\textbf{Equation} & \textbf{Implementation} & \textbf{Notes} \\
\hline
\textbf{Vertical Acceleration} &
$\dot{w} = -\frac{T \cdot \cos(\theta) \cdot \cos(\phi)}{m} + g - 0.05 \cdot v_z \cdot |v_z|$ &
Quadratic aerodynamic drag \\
\hline
\textbf{Altitude Rate} &
$\dot{z} = v_z$ &
Simple integration (NED frame) \\
\hline
\end{longtable}

\textbf{Key Feature:} Quadratic drag model ($F_d = 0.05 \cdot v \cdot |v|$) is more realistic than linear drag for aerial vehicles.

\subsection*{4. Physical Parameters}

\begin{longtable}{|p{0.15\textwidth}|p{0.2\textwidth}|p{0.15\textwidth}|p{0.3\textwidth}|}
\hline
\textbf{Parameter} & \textbf{Symbol} & \textbf{Value} & \textbf{Description} \\
\hline
Mass & $m$ & 0.068 kg & Total quadrotor mass \\
\hline
Roll Inertia & $J_{xx}$ & $6.86 \times 10^{-5}$ kg·m² & Moment of inertia (x-axis) \\
\hline
Pitch Inertia & $J_{yy}$ & $9.2 \times 10^{-5}$ kg·m² & Moment of inertia (y-axis) \\
\hline
Yaw Inertia & $J_{zz}$ & $1.366 \times 10^{-4}$ kg·m² & Moment of inertia (z-axis) \\
\hline
Thrust Coefficient & $k_t$ & 0.01 N/(rad/s)² & Motor thrust constant \\
\hline
Torque Coefficient & $k_q$ & $7.8263 \times 10^{-4}$ N·m/(rad/s)² & Motor torque constant \\
\hline
Gravity & $g$ & 9.81 m/s² & Fixed constant (NOT learned) \\
\hline
Drag Coefficient & $c_d$ & 0.05 kg/m & Quadratic drag coefficient \\
\hline
\end{longtable}

\subsection*{5. PINN Loss Components}

\begin{longtable}{|p{0.2\textwidth}|p{0.35\textwidth}|p{0.15\textwidth}|p{0.15\textwidth}|}
\hline
\textbf{Loss Type} & \textbf{Mathematical Form} & \textbf{Purpose} & \textbf{Weight} \\
\hline
Data Loss & $\mathcal{L}_{data} = \|\hat{x} - x_{true}\|^2$ & Fit predictions to data & 1.0 \\
\hline
Physics Loss & $\mathcal{L}_{physics} = \|\hat{x}_{NN} - \hat{x}_{physics}\|^2$ & Enforce Newton-Euler equations & 20.0 \\
\hline
Energy Loss & $\mathcal{L}_{energy} = (E_{pred} - E_{true})^2$ & Energy conservation & 0.05 \\
\hline
Temporal Loss & $\mathcal{L}_{temporal} = \|\dot{x}\|^2$ & Smooth state transitions & 10.0 \\
\hline
Stability Loss & $\mathcal{L}_{stability} = \sum \max(|x_i| - x_{max}, 0)^2$ & Bounded predictions & 5.0 \\
\hline
Regularization & $\mathcal{L}_{reg} = \sum w_i^2$ & Prevent overfitting & 0.01 \\
\hline
\end{longtable}

\subsection*{6. Key Physics Innovations}

\begin{longtable}{|p{0.25\textwidth}|p{0.65\textwidth}|}
\hline
\textbf{Innovation} & \textbf{Description} \\
\hline
\textbf{No Artificial Damping} &
Removed unphysical damping terms ($-2p, -2q, -2r$) from rotational dynamics. Real Euler equations have NO viscous damping. \\
\hline
\textbf{Quadratic Drag} &
Changed from linear drag ($-0.1 \cdot v_z$) to realistic quadratic aerodynamic drag ($-0.05 \cdot v_z \cdot |v_z|$). \\
\hline
\textbf{Motor Dynamics} &
Realistic motor time constants (80ms spin-up) and slew rate limits prevent instantaneous thrust/torque changes. \\
\hline
\textbf{Temporal Smoothness} &
Enforces physical velocity and acceleration limits, achieving 95-99\% improvement over baseline by eliminating high-frequency noise. \\
\hline
\textbf{6 Learnable Parameters} &
Simultaneously identifies mass, inertia tensor ($J_{xx}, J_{yy}, J_{zz}$), and motor coefficients ($k_t, k_q$) during training. \\
\hline
\end{longtable}

\subsection*{7. Normalization Scales (Physics Loss)}

To balance gradient contributions from different physical variables with varying magnitudes:

\begin{longtable}{|p{0.25\textwidth}|p{0.25\textwidth}|p{0.35\textwidth}|}
\hline
\textbf{Variable} & \textbf{Normalization Scale} & \textbf{Reason} \\
\hline
Angles ($\phi, \theta, \psi$) & 0.2 rad ($\approx 11°$) & Typical attitude range \\
\hline
Angular rates ($p, q, r$) & 0.1 rad/s & Typical rotation speed \\
\hline
Vertical velocity ($v_z$) & 5.0 m/s & Realistic climb/descent rate \\
\hline
Altitude ($z$) & 5.0 m & Flight envelope height \\
\hline
\end{longtable}

Normalized physics loss: $\mathcal{L}_{physics} = \sum_i \left(\frac{x_{pred,i} - x_{physics,i}}{\text{scale}_i}\right)^2$

\vfill

\begin{center}
\textbf{\Large Complete Physics Equations Reference}\\[0.5em]
\large Physics-Informed Neural Networks for Quadrotor Dynamics\\[0.3em]
\normalsize\textit{November 2025}
\end{center}

\end{document}
